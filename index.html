<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Solar System Animation</title>
    <style>
        body {
            margin: 0;
            background-color: #000; /* 背景は黒 */
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>

<canvas id="solarCanvas"></canvas>

<script>
    const canvas = document.getElementById('solarCanvas');
    const ctx = canvas.getContext('2d');

    // キャンバスサイズを画面いっぱいに設定
    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // 惑星のデータ設定
    // 1分(60秒)で1周する地球を基準(period: 1.0)とする
    const planets = [
        { name: "水星", color: "#A5A5A5", distance: 60,  radius: 4,  period: 0.24 },
        { name: "金星", color: "#E3BB76", distance: 90,  radius: 7,  period: 0.61 },
        { name: "地球", color: "#2271B3", distance: 130, radius: 8,  period: 1.0 }, // 1.0 = 60秒
        { name: "火星", color: "#E27B58", distance: 170, radius: 6,  period: 1.88 },
        { name: "木星", color: "#D39C7E", distance: 230, radius: 15, period: 11.86 },
        { name: "土星", color: "#C5AB6E", distance: 290, radius: 12, period: 29.46 },
        { name: "天王星", color: "#BBE1E4", distance: 340, radius: 9,  period: 84.01 },
        { name: "海王星", color: "#6081FF", distance: 380, radius: 9,  period: 164.8 }
    ];

    function animate() {
        // 描画をクリア
        ctx.fillStyle = 'black';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        const currentTime = Date.now() / 1000; // 秒単位の現在時刻

        // 1. 太陽の描画
        ctx.beginPath();
        ctx.arc(centerX, centerY, 25, 0, Math.PI * 2);
        ctx.fillStyle = "#FFCC00";
        ctx.shadowBlur = 20;
        ctx.shadowColor = "#FFCC00";
        ctx.fill();
        ctx.shadowBlur = 0; // 他の描画に影響させない

        planets.forEach(planet => {
            // 2. 軌道の線を描画
            ctx.beginPath();
            ctx.arc(centerX, centerY, planet.distance, 0, Math.PI * 2);
            ctx.strokeStyle = "rgba(255, 255, 255, 0.2)";
            ctx.lineWidth = 1;
            ctx.stroke();

            // 3. 惑星の位置計算
            // 地球(period: 1)が60秒で1周(2π)するように計算
            // 角度 = (現在の秒数 / (60 * 周期)) * 2π
            const speedFactor = 60; 
            const angle = (currentTime / (speedFactor * planet.period)) * Math.PI * 2;
            
            const x = centerX + Math.cos(angle) * planet.distance;
            const y = centerY + Math.sin(angle) * planet.distance;

            // 4. 惑星の描画
            ctx.beginPath();
            ctx.arc(x, y, planet.radius, 0, Math.PI * 2);
            ctx.fillStyle = planet.color;
            ctx.fill();
        });

        requestAnimationFrame(animate);
    }

    animate();
</script>
</body>
</html>
